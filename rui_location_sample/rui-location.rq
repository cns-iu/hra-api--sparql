PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX ccf: <http://purl.org/ccf/>
PREFIX dcterms:<http://purl.org/dc/terms/>

CONSTRUCT {
    ?rui_location rdf:type ccf:spatial_entity ;
        dcterms:creator ?creator ;
        ccf:creator_first_name ?creator_first_name;
        ccf:creator_last_name ?creator_last_name;
        ccf:x_dimension ?x_dimension;
        ccf:y_dimension ?y_dimension;
        ccf:z_dimension ?z_dimension;
        ccf:dimension_unit ?dimension_units ;
        ccf:collides_with ?ccf_annotations;
        ccf:has_placement ?SpatialPlacement.
  ?SpatialPlacement rdf:type ccf:spatial_placement ;
        dcterms:created ?placement_date;
        ccf:x_scaling ?x_scaling;
        ccf:y_scaling ?y_scaling;
        ccf:z_scaling ?z_scaling;
        ccf:scaling_unit ?scaling_units;
        ccf:x_rotation ?x_rotation;
        ccf:y_rotation ?y_rotation;
        ccf:z_rotation ?z_rotation;
        ccf:rotation_order ?rotation_order;
        ccf:rotation_unit ?rotation_units;
        ccf:x_translation ?x_translation;
        ccf:y_translation ?y_translation;
        ccf:z_translation ?z_translation;
        ccf:translation_unit ?translation_units;
        ccf:placement_relative_to ?target .

}
WHERE
{
    ?sample ccf:has_registration_location ?rui_location .
  	?rui_location a ccf:SpatialEntity .
    ?rui_location rdf:type ccf:spatial_entity ;
        dcterms:creator ?creator ;
        ccf:creator_first_name ?creator_first_name;
        ccf:creator_last_name ?creator_last_name;
        ccf:x_dimension ?x_dimension;
        ccf:y_dimension ?y_dimension;
        ccf:z_dimension ?z_dimension;
        ccf:dimension_unit ?dimension_units ;
        ccf:collides_with ?ccf_annotations;
        ccf:has_placement ?SpatialPlacement.
  ?SpatialPlacement rdf:type ccf:spatial_placement ;
        dcterms:created ?placement_date;
        ccf:x_scaling ?x_scaling;
        ccf:y_scaling ?y_scaling;
        ccf:z_scaling ?z_scaling;
        ccf:scaling_unit ?scaling_units;
        ccf:x_rotation ?x_rotation;
        ccf:y_rotation ?y_rotation;
        ccf:z_rotation ?z_rotation;
        ccf:rotation_order ?rotation_order;
        ccf:rotation_unit ?rotation_units;
        ccf:x_translation ?x_translation;
        ccf:y_translation ?y_translation;
        ccf:z_translation ?z_translation;
        ccf:translation_unit ?translation_units;
        ccf:placement_relative_to ?target .

        

	  #{{FILTER}}

} 